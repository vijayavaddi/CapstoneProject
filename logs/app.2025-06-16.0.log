2025-06-16 09:34:18 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11h9m39s594ms773Âµs400ns).
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:00:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /swagger-ui/index.html
2025-06-16 10:00:43 [http-nio-8080-exec-7] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /swagger-ui/index.html using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:00:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-06-16 10:00:44 [http-nio-8080-exec-7] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:00:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /swagger-ui/swagger-ui.css
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /swagger-ui/swagger-ui.css using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:00:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:00:44 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /swagger-ui/index.css
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /swagger-ui/index.css using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:00:44 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-06-16 10:00:44 [http-nio-8080-exec-9] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:00:44 [http-nio-8080-exec-10] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:00:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /swagger-ui/swagger-ui-bundle.js
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /swagger-ui/swagger-ui-bundle.js using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:00:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-06-16 10:00:45 [http-nio-8080-exec-1] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:00:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /swagger-ui/swagger-ui-standalone-preset.js using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:00:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:00:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /swagger-ui/swagger-initializer.js
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /swagger-ui/swagger-initializer.js using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:00:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-06-16 10:00:45 [http-nio-8080-exec-3] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:00:45 [http-nio-8080-exec-5] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:00:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /v3/api-docs/swagger-config
2025-06-16 10:00:46 [http-nio-8080-exec-2] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /v3/api-docs/swagger-config using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:00:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:00:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /swagger-ui/favicon-32x32.png
2025-06-16 10:00:46 [http-nio-8080-exec-4] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /swagger-ui/favicon-32x32.png using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:00:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-06-16 10:00:47 [http-nio-8080-exec-4] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:00:47 [http-nio-8080-exec-2] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:00:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /v3/api-docs
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /v3/api-docs using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:00:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-06-16 10:00:47 [http-nio-8080-exec-6] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:01:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/auth/login
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:01:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-06-16 10:01:20 [http-nio-8080-exec-8] INFO  c.h.d.c.AuthenticationController - Login attempt for username: 9368234762
2025-06-16 10:01:20 [http-nio-8080-exec-8] TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2025-06-16 10:01:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-06-16 10:01:21 [http-nio-8080-exec-8] DEBUG c.h.d.c.AuthenticationController - Login successful for username: 9368234762
2025-06-16 10:01:21 [http-nio-8080-exec-8] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:02:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointment/book
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=9368234762, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/appointment/book
2025-06-16 10:02:14 [http-nio-8080-exec-5] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/appointment/book using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:02:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointment/book
2025-06-16 10:02:15 [http-nio-8080-exec-5] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=9368234762, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]] before authorizing
2025-06-16 10:02:15 [http-nio-8080-exec-5] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.AppointmentController.create(com.hcltech.doctorpatient.dto.appointmentdto.AppointmentRequestDto); target is of class [com.hcltech.doctorpatient.controller.AppointmentController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:02:15 [http-nio-8080-exec-5] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.AppointmentController.create(com.hcltech.doctorpatient.dto.appointmentdto.AppointmentRequestDto); target is of class [com.hcltech.doctorpatient.controller.AppointmentController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:02:15 [http-nio-8080-exec-5] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 10:02:15 [http-nio-8080-exec-5] INFO  c.h.d.c.AppointmentController - Booking appointment for patientId: 9368234762
2025-06-16 10:02:16 [http-nio-8080-exec-5] DEBUG c.h.d.c.AppointmentController - Appointment booked successfully: com.hcltech.doctorpatient.dto.appointmentdto.AppointmentResponseDto@1dfc2c9d
2025-06-16 10:02:16 [http-nio-8080-exec-5] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:03:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=9368234762, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/auth/login
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:03:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-06-16 10:03:04 [http-nio-8080-exec-1] INFO  c.h.d.c.AuthenticationController - Login attempt for username: 9989345241
2025-06-16 10:03:04 [http-nio-8080-exec-1] TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2025-06-16 10:03:05 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-06-16 10:03:05 [http-nio-8080-exec-1] DEBUG c.h.d.c.AuthenticationController - Login successful for username: 9989345241
2025-06-16 10:03:05 [http-nio-8080-exec-1] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:03:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointment/book
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=9989345241, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/appointment/book
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/appointment/book using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:03:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointment/book
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=9989345241, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]] before authorizing
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.AppointmentController.create(com.hcltech.doctorpatient.dto.appointmentdto.AppointmentRequestDto); target is of class [com.hcltech.doctorpatient.controller.AppointmentController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:03:37 [http-nio-8080-exec-4] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.AppointmentController.create(com.hcltech.doctorpatient.dto.appointmentdto.AppointmentRequestDto); target is of class [com.hcltech.doctorpatient.controller.AppointmentController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:03:37 [http-nio-8080-exec-4] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 10:03:37 [http-nio-8080-exec-4] INFO  c.h.d.c.AppointmentController - Booking appointment for patientId: 9989345241
2025-06-16 10:03:37 [http-nio-8080-exec-4] DEBUG c.h.d.c.AppointmentController - Appointment booked successfully: com.hcltech.doctorpatient.dto.appointmentdto.AppointmentResponseDto@5d464a47
2025-06-16 10:03:38 [http-nio-8080-exec-4] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:04:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=9989345241, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/auth/login
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:04:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-06-16 10:04:06 [http-nio-8080-exec-2] INFO  c.h.d.c.AuthenticationController - Login attempt for username: 9869345241
2025-06-16 10:04:06 [http-nio-8080-exec-2] TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2025-06-16 10:04:06 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-06-16 10:04:07 [http-nio-8080-exec-2] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:04:07 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authentication.BadCredentialsException: Bad credentials]
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:04:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=9989345241, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/auth/login
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:04:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-06-16 10:04:35 [http-nio-8080-exec-6] INFO  c.h.d.c.AuthenticationController - Login attempt for username: 9869345241
2025-06-16 10:04:35 [http-nio-8080-exec-6] TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2025-06-16 10:04:36 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-06-16 10:04:36 [http-nio-8080-exec-6] DEBUG c.h.d.c.AuthenticationController - Login successful for username: 9869345241
2025-06-16 10:04:36 [http-nio-8080-exec-6] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:05:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointment/book
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=9869345241, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/appointment/book
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/appointment/book using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:05:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointment/book
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=9869345241, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]] before authorizing
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.AppointmentController.create(com.hcltech.doctorpatient.dto.appointmentdto.AppointmentRequestDto); target is of class [com.hcltech.doctorpatient.controller.AppointmentController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:05:09 [http-nio-8080-exec-8] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.AppointmentController.create(com.hcltech.doctorpatient.dto.appointmentdto.AppointmentRequestDto); target is of class [com.hcltech.doctorpatient.controller.AppointmentController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 10:05:09 [http-nio-8080-exec-8] INFO  c.h.d.c.AppointmentController - Booking appointment for patientId: 9869345241
2025-06-16 10:05:09 [http-nio-8080-exec-8] DEBUG c.h.d.c.AppointmentController - Appointment booked successfully: com.hcltech.doctorpatient.dto.appointmentdto.AppointmentResponseDto@2199a718
2025-06-16 10:05:09 [http-nio-8080-exec-8] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:05:40 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:05:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-06-16 10:05:40 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:05:40 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:05:40 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:05:40 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:05:40 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:05:40 [http-nio-8080-exec-7] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:05:40 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=9869345241, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/auth/login
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:05:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-06-16 10:05:41 [http-nio-8080-exec-7] INFO  c.h.d.c.AuthenticationController - Login attempt for username: 6310312675
2025-06-16 10:05:41 [http-nio-8080-exec-7] TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2025-06-16 10:05:42 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-06-16 10:05:42 [http-nio-8080-exec-7] DEBUG c.h.d.c.AuthenticationController - Login successful for username: 6310312675
2025-06-16 10:05:42 [http-nio-8080-exec-7] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:06:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointment/book
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=6310312675, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/appointment/book
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/appointment/book using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:06:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointment/book
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=6310312675, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]] before authorizing
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.AppointmentController.create(com.hcltech.doctorpatient.dto.appointmentdto.AppointmentRequestDto); target is of class [com.hcltech.doctorpatient.controller.AppointmentController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:06:13 [http-nio-8080-exec-9] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.AppointmentController.create(com.hcltech.doctorpatient.dto.appointmentdto.AppointmentRequestDto); target is of class [com.hcltech.doctorpatient.controller.AppointmentController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 10:06:13 [http-nio-8080-exec-9] INFO  c.h.d.c.AppointmentController - Booking appointment for patientId: 6310312675
2025-06-16 10:06:13 [http-nio-8080-exec-9] DEBUG c.h.d.c.AppointmentController - Appointment booked successfully: com.hcltech.doctorpatient.dto.appointmentdto.AppointmentResponseDto@19217802
2025-06-16 10:06:13 [http-nio-8080-exec-9] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:07:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:07:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-06-16 10:07:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:07:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:07:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:07:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:07:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:07:23 [http-nio-8080-exec-3] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:07:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:07:23 [http-nio-8080-exec-3] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=6310312675, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/auth/login
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:07:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-06-16 10:07:24 [http-nio-8080-exec-3] INFO  c.h.d.c.AuthenticationController - Login attempt for username: 5566778899
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2025-06-16 10:07:24 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-06-16 10:07:24 [http-nio-8080-exec-3] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:07:24 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authentication.BadCredentialsException: Bad credentials]
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:07:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=6310312675, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/auth/login
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:07:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-06-16 10:07:43 [http-nio-8080-exec-5] INFO  c.h.d.c.AuthenticationController - Login attempt for username: 5566778899
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2025-06-16 10:07:43 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-06-16 10:07:43 [http-nio-8080-exec-5] DEBUG c.h.d.c.AuthenticationController - Login successful for username: 5566778899
2025-06-16 10:07:43 [http-nio-8080-exec-5] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:22:05 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:22:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-06-16 10:22:05 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:22:05 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:22:05 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:22:05 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:22:05 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:22:05 [http-nio-8080-exec-4] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:22:05 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:22:05 [http-nio-8080-exec-4] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=6310312675, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/auth/login
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:22:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-06-16 10:22:06 [http-nio-8080-exec-4] INFO  c.h.d.c.AuthenticationController - Login attempt for username: 0000000000
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2025-06-16 10:22:06 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-06-16 10:22:06 [http-nio-8080-exec-4] DEBUG c.h.d.c.AuthenticationController - Login successful for username: 0000000000
2025-06-16 10:22:06 [http-nio-8080-exec-4] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:22:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointment/my-appointments
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=0000000000, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_DOCTOR]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DOCTOR]]
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /api/appointment/my-appointments
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /api/appointment/my-appointments using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:22:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointment/my-appointments
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=0000000000, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_DOCTOR]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DOCTOR]] before authorizing
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.AppointmentController.getMyAppointments(); target is of class [com.hcltech.doctorpatient.controller.AppointmentController] with attributes [[authorize: 'hasAnyRole('DOCTOR','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:22:43 [http-nio-8080-exec-2] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.AppointmentController.getMyAppointments(); target is of class [com.hcltech.doctorpatient.controller.AppointmentController] with attributes [[authorize: 'hasAnyRole('DOCTOR','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 10:22:43 [http-nio-8080-exec-2] INFO  c.h.d.c.AppointmentController - Fetching appointments for current doctor
2025-06-16 10:22:43 [http-nio-8080-exec-2] DEBUG c.h.d.c.AppointmentController - Doctor's appointments fetched: 4
2025-06-16 10:22:43 [http-nio-8080-exec-2] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:23:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/patients
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=0000000000, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_DOCTOR]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DOCTOR]]
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /api/patients
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /api/patients using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:23:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/patients
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=0000000000, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_DOCTOR]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DOCTOR]] before authorizing
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.getAll(); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.getAll(); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']] using AffirmativeBased [DecisionVoters=[org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@a305f, org.springframework.security.access.vote.RoleVoter@58db09e8, org.springframework.security.access.vote.AuthenticatedVoter@627ba40f], AllowIfAllAbstainDecisions=false]
2025-06-16 10:23:22 [http-nio-8080-exec-6] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:23:22 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access is denied]
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:23:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=0000000000, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_DOCTOR]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DOCTOR]]
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/auth/login
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:23:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-06-16 10:23:56 [http-nio-8080-exec-8] INFO  c.h.d.c.AuthenticationController - Login attempt for username: 5566778899
2025-06-16 10:23:56 [http-nio-8080-exec-8] TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2025-06-16 10:23:57 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-06-16 10:23:57 [http-nio-8080-exec-8] DEBUG c.h.d.c.AuthenticationController - Login successful for username: 5566778899
2025-06-16 10:23:57 [http-nio-8080-exec-8] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:24:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointment/book
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/appointment/book
2025-06-16 10:24:35 [http-nio-8080-exec-7] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/appointment/book using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:24:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointment/book
2025-06-16 10:24:36 [http-nio-8080-exec-7] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:24:36 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hcltech.doctorpatient.dto.appointmentdto.AppointmentResponseDto> com.hcltech.doctorpatient.controller.AppointmentController.create(com.hcltech.doctorpatient.dto.appointmentdto.AppointmentRequestDto): [Field error in object 'appointmentRequestDto' on field 'mobile': rejected value [5566778899]; codes [Pattern.appointmentRequestDto.mobile,Pattern.mobile,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [appointmentRequestDto.mobile,mobile]; arguments []; default message [mobile],[Ljakarta.validation.constraints.Pattern$Flag;@48e082a9,^[6-9]\d{9}$]; default message [Mobile number must be a valid 10-digit Indian number]] ]
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:25:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/users/register
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/users/register
2025-06-16 10:25:17 [http-nio-8080-exec-9] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/users/register using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:25:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/users/register
2025-06-16 10:25:17 [http-nio-8080-exec-9] INFO  c.h.d.controller.UserController - Registering new user: 9675423423
2025-06-16 10:25:19 [http-nio-8080-exec-9] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:25:19 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [com.hcltech.doctorpatient.model.User#3fa85f64-5717-4562-b3fc-2c963f66afa6]]
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:25:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/patients?id=3fa85f64-5717-4562-b3fc-2c963f66afa6
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/patients?id=3fa85f64-5717-4562-b3fc-2c963f66afa6
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/patients?id=3fa85f64-5717-4562-b3fc-2c963f66afa6 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:25:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/patients?id=3fa85f64-5717-4562-b3fc-2c963f66afa6
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]] before authorizing
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:25:53 [http-nio-8080-exec-10] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 10:25:53 [http-nio-8080-exec-10] INFO  c.h.d.controller.PatientController - Creating patient with reference ID: 3fa85f64-5717-4562-b3fc-2c963f66afa6
2025-06-16 10:25:53 [http-nio-8080-exec-10] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:25:53 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot invoke "com.hcltech.doctorpatient.repository.UserRepository.findByMobile(String)" because "this.userRepository" is null]
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:26:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/patients?id=3fa85f64-5717-4562-b3fc-2c963f66afa6
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/patients?id=3fa85f64-5717-4562-b3fc-2c963f66afa6
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/patients?id=3fa85f64-5717-4562-b3fc-2c963f66afa6 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:26:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/patients?id=3fa85f64-5717-4562-b3fc-2c963f66afa6
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]] before authorizing
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:26:23 [http-nio-8080-exec-3] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:26:23 [http-nio-8080-exec-3] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 10:26:24 [http-nio-8080-exec-3] INFO  c.h.d.controller.PatientController - Creating patient with reference ID: 3fa85f64-5717-4562-b3fc-2c963f66afa6
2025-06-16 10:26:24 [http-nio-8080-exec-3] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:26:24 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot invoke "com.hcltech.doctorpatient.repository.UserRepository.findByMobile(String)" because "this.userRepository" is null]
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:26:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/users/register
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/users/register
2025-06-16 10:26:41 [http-nio-8080-exec-5] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/users/register using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:26:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/users/register
2025-06-16 10:26:41 [http-nio-8080-exec-5] INFO  c.h.d.controller.UserController - Registering new user: 9675423423
2025-06-16 10:26:42 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-06-16 10:26:42 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "role" of relation "users" violates not-null constraint
  Detail: Failing row contains (230069a3-4aa7-482e-9093-736d64d1fd79, 2025-06-16 04:56:42.080663, string, string, 9675423423, $2a$10$FIUdiYanGCvmfSYkG4RCr.wNzfkR7bJ9/F0eWbarwJn9R094HAMn., null, 2025-06-16 04:56:42.080663).
2025-06-16 10:26:42 [http-nio-8080-exec-5] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:26:42 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "role" of relation "users" violates not-null constraint<EOL>  Detail: Failing row contains (230069a3-4aa7-482e-9093-736d64d1fd79, 2025-06-16 04:56:42.080663, string, string, 9675423423, $2a$10$FIUdiYanGCvmfSYkG4RCr.wNzfkR7bJ9/F0eWbarwJn9R094HAMn., null, 2025-06-16 04:56:42.080663).] [insert into users (created_at,first_name,last_name,mobile,password,role,updated_at,user_id) values (?,?,?,?,?,?,?,?)]; SQL [insert into users (created_at,first_name,last_name,mobile,password,role,updated_at,user_id) values (?,?,?,?,?,?,?,?)]; constraint [role" of relation "users]]
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:26:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/users/register
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/users/register
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/users/register using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:26:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/users/register
2025-06-16 10:26:59 [http-nio-8080-exec-1] INFO  c.h.d.controller.UserController - Registering new user: 9675423423
2025-06-16 10:26:59 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-06-16 10:26:59 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "role" of relation "users" violates not-null constraint
  Detail: Failing row contains (67316186-75ab-4cef-9f7f-dd92f76cee6a, 2025-06-16 04:56:59.389168, string, string, 9675423423, $2a$10$jM6D8W82ahHIlHV4PExCqOsV2MEQpXKQZhifdICn5IUB4MVDW94xW, null, 2025-06-16 04:56:59.389168).
2025-06-16 10:26:59 [http-nio-8080-exec-1] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:26:59 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "role" of relation "users" violates not-null constraint<EOL>  Detail: Failing row contains (67316186-75ab-4cef-9f7f-dd92f76cee6a, 2025-06-16 04:56:59.389168, string, string, 9675423423, $2a$10$jM6D8W82ahHIlHV4PExCqOsV2MEQpXKQZhifdICn5IUB4MVDW94xW, null, 2025-06-16 04:56:59.389168).] [insert into users (created_at,first_name,last_name,mobile,password,role,updated_at,user_id) values (?,?,?,?,?,?,?,?)]; SQL [insert into users (created_at,first_name,last_name,mobile,password,role,updated_at,user_id) values (?,?,?,?,?,?,?,?)]; constraint [role" of relation "users]]
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:27:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/users/register
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/users/register
2025-06-16 10:27:03 [http-nio-8080-exec-4] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/users/register using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 10:27:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/users/register
2025-06-16 10:27:03 [http-nio-8080-exec-4] INFO  c.h.d.controller.UserController - Registering new user: 9675423423
2025-06-16 10:27:04 [http-nio-8080-exec-4] INFO  c.h.d.controller.UserController - User registered successfully with ID: b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:27:04 [http-nio-8080-exec-4] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:27:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:27:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]] before authorizing
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:27:25 [http-nio-8080-exec-2] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 10:27:25 [http-nio-8080-exec-2] INFO  c.h.d.controller.PatientController - Creating patient with reference ID: b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:27:25 [http-nio-8080-exec-2] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:27:25 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot invoke "com.hcltech.doctorpatient.repository.UserRepository.findByMobile(String)" because "this.userRepository" is null]
2025-06-16 10:27:34 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:27:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:27:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]] before authorizing
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:27:35 [http-nio-8080-exec-6] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 10:27:35 [http-nio-8080-exec-6] INFO  c.h.d.controller.PatientController - Creating patient with reference ID: b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:27:35 [http-nio-8080-exec-6] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:27:35 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot invoke "com.hcltech.doctorpatient.repository.UserRepository.findByMobile(String)" because "this.userRepository" is null]
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 10:28:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 10:28:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]] before authorizing
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:28:04 [http-nio-8080-exec-8] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 10:28:04 [http-nio-8080-exec-8] INFO  c.h.d.controller.PatientController - Creating patient with reference ID: b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 10:28:04 [http-nio-8080-exec-8] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 10:28:04 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot invoke "com.hcltech.doctorpatient.repository.UserRepository.findByMobile(String)" because "this.userRepository" is null]
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 11:29:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 11:29:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]] before authorizing
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 11:29:02 [http-nio-8080-exec-7] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 11:29:02 [http-nio-8080-exec-7] INFO  c.h.d.controller.PatientController - Creating patient with reference ID: b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 11:29:02 [http-nio-8080-exec-7] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 11:29:02 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot invoke "com.hcltech.doctorpatient.repository.UserRepository.findByMobile(String)" because "this.userRepository" is null]
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 11:29:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 11:29:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/patients?id=b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]] before authorizing
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 11:29:31 [http-nio-8080-exec-9] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 11:29:31 [http-nio-8080-exec-9] INFO  c.h.d.controller.PatientController - Creating patient with reference ID: b451b7e6-21dd-4d1d-826e-e9beec030d4c
2025-06-16 11:29:31 [http-nio-8080-exec-9] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 11:29:31 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot invoke "com.hcltech.doctorpatient.repository.UserRepository.findByMobile(String)" because "this.userRepository" is null]
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 11:32:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/users/register
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/users/register
2025-06-16 11:32:29 [http-nio-8080-exec-10] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/users/register using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000020d9f9f6a50@731a4548
2025-06-16 11:32:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/users/register
2025-06-16 11:32:29 [http-nio-8080-exec-10] INFO  c.h.d.controller.UserController - Registering new user: 9448338979
2025-06-16 11:32:30 [http-nio-8080-exec-10] INFO  c.h.d.controller.UserController - User registered successfully with ID: d37bc4a3-369f-4e74-9c62-97fe57fe419e
2025-06-16 11:32:30 [http-nio-8080-exec-10] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/hcltech/doctorpatient/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthRequest, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-06-16 11:32:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/patients?id=d37bc4a3-369f-4e74-9c62-97fe57fe419e
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (5/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking JwtAuthRequestFilter (6/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (7/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (9/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (10/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]]
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (11/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (12/12)
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/patients?id=d37bc4a3-369f-4e74-9c62-97fe57fe419e
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/patients?id=d37bc4a3-369f-4e74-9c62-97fe57fe419e using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6bc02002
2025-06-16 11:32:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/patients?id=d37bc4a3-369f-4e74-9c62-97fe57fe419e
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not re-authenticate UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=5566778899, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PATIENT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PATIENT]] before authorizing
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 11:32:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.i.a.MethodSecurityInterceptor - Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hcltech.doctorpatient.controller.PatientController.create(com.hcltech.doctorpatient.dto.patientdto.PatientRequestDto,java.util.UUID); target is of class [com.hcltech.doctorpatient.controller.PatientController] with attributes [[authorize: 'hasAnyRole('PATIENT','ADMIN')', filter: 'null', filterTarget: 'null']]
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.s.a.i.a.MethodSecurityInterceptor - Did not switch RunAs authentication since RunAsManager returned null
2025-06-16 11:32:48 [http-nio-8080-exec-3] INFO  c.h.d.controller.PatientController - Creating patient with reference ID: d37bc4a3-369f-4e74-9c62-97fe57fe419e
2025-06-16 11:32:48 [http-nio-8080-exec-3] TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2025-06-16 11:32:48 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot invoke "com.hcltech.doctorpatient.repository.UserRepository.findByMobile(String)" because "this.userRepository" is null]
2025-06-16 11:32:59 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-16 11:32:59 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-16 11:33:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-16 11:33:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-16 11:33:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
